<!DOCTYPE html>
<html ng-app='DatabaseApp'>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Database Lab</title>
<link rel='stylesheet' href='lib/bootstrap-3.css'>
<link rel='stylesheet' href='css/database.css'>
</head>
<body ng-controller='DatabaseController' ng-click='next()'>
<!-- Main Container - covers entire page -->
<div class='container'>
    <h1 class='text-center'>Watson Database Lab</h1>
    <!-- Relation Editor View -->
        <div id='statement_div'>
            <div id='editor_panel' class='panel panel-default'>
                <div id='history' class='panel-body'>
                    <div ng-repeat='item in history'>
                        <span ng-class='{processed: !item.processed, active: (item.stmt.text == active)}'  ng-bind='item.stmt.text'></span>
                        <span class='pull-right glyphicon glyphicon-arrow-left' ng-class='{hidden: !(item.stmt.text == active)}'></span>
                    </div>
                </div>
            </div>
        <hr>
        <!-- Relation View -->
        <div>
            <table class='table table-striped table-condensed'>
                <thead>
                    <th ng-repeat='item in relation.head'>
                        <span ng-bind="item"></span>
                    </th>
                </thead>
                <tbody>
                <!-- the trouble is this two-dimensional loop. what i think is happening is that each time an item is processed, -->
                <!-- it does the whole 'update-everything-else' cycle, and bogs everything down. It ought to be both possible and -->
                <!-- faster to generate the whole table in straight javascript. My only concern is that it replaces a very succinct -->
                <!-- process with a rather gross one. -->
                <tr ng-repeat='row in relation.rows'>
                    <td ng-repeat='item in row'>
                        <span ng-bind="item"></span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div> <!-- End Relation View -->
    </div> <!-- End Relationship Editor View -->
</div> <!-- End Main Container -->
<script type='text/javascript' src='lib/jquery.js'></script>
<script type='text/javascript' src='lib/angular.js'></script>
<script type='text/javascript' src='lib/bootstrap-3.js'></script>
<script type='text/javascript' src='lib/ui-bootstrap.js'></script>
<script type='text/javascript' src='js/DatabaseApp.js'></script>
</body>
</html>
<!-- vim: set tw=0 : -->
